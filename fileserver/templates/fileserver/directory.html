{% extends 'page.html' %}
{% load i18n %}
{% load url from future %}

{% block headline %}{{ path|last|first }}{% endblock %}

{% block content %}
<ul class="breadcrumb">
{% for directory, name in path %}
<li>
  <a href="{% url 'fileserver_directory' directory %}">{{ name }}</a>
  <span class="divider">/</span>
</li>
{% endfor %}
</ul>
{% if back_url %}
<div>
  <a href="{{ back_url }}" class="btn">{% trans 'Back' %}</a>
</div>
{% endif %}
<table class="table table-bordered">
  <tr>
    <th width="85%">{% trans 'Name' %}</th>
    <th>{% trans 'Size' %}</th>
  </tr>
  {% for subdirectory, url, items in directory.iter_subdirectories %}
  <tr>
    <td><a href="{{ url }}">{{ subdirectory }}</a></td>
    <td>{{ items }}</td>
  </tr>
  {% endfor %}
  {% for file, file_url, size in directory.iter_files %}
  <tr>
    <td><a href="{{ file_url }}">{{ file }}</a></td>
    <td>{{ size }}</td>
  </tr>
  {% endfor %}
</table>
{% endblock content %}
